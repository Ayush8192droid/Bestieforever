<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Bestie Forever</title>
  <style>
    :root{
      --bg:#000;
      --accent:#ff69b4;
      --heading:#00f0ff;
      --gold:#ffd700;
      --text:#fff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text);-webkit-text-size-adjust:100%}
    .screen{display:none;height:100vh;width:100vw;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4vw;text-align:center}
    .screen.active{display:flex}
    /* Screen1 form */
    .form{width:100%;max-width:420px;display:flex;flex-direction:column;align-items:flex-start}
    .form h1{font-size:clamp(20px,6vw,30px);margin-bottom:12px;color:var(--gold);font-weight:700;text-align:left;width:100%}
    .nameInput{width:100%;padding:12px;border-radius:10px;border:0;font-size:16px;margin-bottom:12px}
    .startBtn{align-self:center;padding:12px 22px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-size:18px;cursor:pointer}
    /* Headings for other screens */
    h2.heading{font-size:clamp(20px,6vw,32px);font-weight:800;color:var(--heading);margin:8px 0}
    p.quote{max-width:920px;line-height:1.5;font-size:clamp(14px,4vw,18px);color:#e9f9ff;margin-top:8px;word-break:break-word}
    /* slideshow */
    .slideshow{width:100%;max-width:760px;height:60vh;max-height:520px;display:flex;align-items:center;justify-content:center;position:relative;margin-top:12px}
    #slideshowImg{width:100%;height:100%;object-fit:cover;border-radius:14px;box-shadow:0 6px 20px rgba(0,0,0,0.6)}
    /* final screen */
    .final-img{width:80%;max-width:380px;height:auto;border-radius:12px;box-shadow:0 6px 24px rgba(0,0,0,0.6)}
    .final-msg{font-size:clamp(18px,5vw,24px);font-weight:800;color:var(--heading);margin-top:12px}
    .miss-you{font-size:clamp(16px,4vw,22px);color:var(--accent);font-weight:700;margin-top:8px}
    /* video background (hidden until start) */
    #twinkleVideo{position:fixed;left:0;top:0;width:100vw;height:100vh;object-fit:cover;z-index:-1;display:none}
    /* small helpers */
    .sr-only{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    @media (orientation:portrait){
      .slideshow{height:50vh}
    }
  </style>
</head>
<body>

  <!-- Background video (kept hidden until Start) -->
  <video id="twinkleVideo" playsinline webkit-playsinline></video>

  <!-- Audio -->
  <audio id="bgAudio" preload="auto"></audio>

  <!-- Screen 1: name input -->
  <div id="screen1" class="screen active">
    <div class="form" role="form" aria-label="Start form">
      <h1>Apna naam likho aur dekho âœ¨</h1>
      <input id="nameInput" class="nameInput" type="text" placeholder="Apna naam likho..." autocomplete="name" />
      <button id="startBtn" class="startBtn" type="button">Start</button>
    </div>
  </div>

  <!-- Screen 2: greeting -->
  <div id="screen2" class="screen">
    <h2 id="greetText" class="heading">Hello ðŸ‘‹</h2>
    <div style="font-size:clamp(18px,4vw,22px);color:#ffdede;margin-top:6px">Happy Friendship Day ðŸ’«ðŸ’—</div>
  </div>

  <!-- Screen 3: quote (must show 13s) -->
  <div id="screen3" class="screen">
    <h2 class="heading">Sach me ðŸ¥º</h2>
    <p class="quote">
      Tujhse roz baat na ho, par dil har waqt tera naam leta hai...
      Har problem mein tujhe yaad karta hoon, har khushi mein tujhe dhoondhta hoon.
      Tu sirf dost nahi hai, tu meri aadat ban chuki hai...
      Aur aadatein chhuti nahi jaati ðŸ’”ðŸ¥¹
    </p>
  </div>

  <!-- Screen 4: slideshow -->
  <div id="screen4" class="screen">
    <h2 class="heading">Happy Friendship Day ðŸ’«ðŸ’—</h2>
    <div class="slideshow">
      <img id="slideshowImg" src="" alt="Memory slideshow" />
    </div>
  </div>

  <!-- Screen 5: final -->
  <div id="screen5" class="screen">
    <img id="finalImg" class="final-img" src="photo6.jpg" alt="Final memory" />
    <div class="final-msg">Happy Friendship Day ðŸ’«ðŸ’—</div>
    <div class="miss-you">I miss you pagal ðŸ¥¹</div>
  </div>

<script>
/* ====== CONFIG ====== */
/* Filenames: keep these files in same folder as index.html
   - Twinkle.mp4
   - Tum hi ho.mp3   (you may keep the space in filename)
   - photo1.jpg ... photo6.jpg
*/
const VIDEO_FILE = 'Twinkle.mp4';
const AUDIO_FILE = 'Tum hi ho.mp3';
const SLIDES = ['photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg','photo5.jpg'];
const SLIDE_DURATION = 2000;   // 2000 ms = 2 seconds per photo
const SCREEN2_DURATION = 3000; // 3s
const SCREEN3_DURATION = 13000; // 13s

/* ====== DOM ====== */
const screenElems = [
  document.getElementById('screen1'),
  document.getElementById('screen2'),
  document.getElementById('screen3'),
  document.getElementById('screen4'),
  document.getElementById('screen5')
];
const startBtn = document.getElementById('startBtn');
const nameInput = document.getElementById('nameInput');
const greetText = document.getElementById('greetText');
const slideshowImg = document.getElementById('slideshowImg');
const finalImg = document.getElementById('finalImg');
const twinkleVideo = document.getElementById('twinkleVideo');
const bgAudio = document.getElementById('bgAudio');

/* initialize media sources (but don't play yet) */
twinkleVideo.src = VIDEO_FILE;
bgAudio.src = AUDIO_FILE;

/* show screen helper */
function showScreen(index){
  screenElems.forEach((el,i)=> el.classList.toggle('active', i===index));
}

/* Start slideshow: returns a Promise that resolves after slideshow finished */
function startSlideshow(){
  return new Promise((resolve)=>{
    let i = 0;
    // show first image immediately
    slideshowImg.src = SLIDES[0];
    const interval = setInterval(()=>{
      i++;
      if(i < SLIDES.length){
        slideshowImg.src = SLIDES[i];
      } else {
        clearInterval(interval);
        // wait final 2s on last slide then resolve
        setTimeout(()=> resolve(), SLIDE_DURATION);
      }
    }, SLIDE_DURATION);
  });
}

/* Main start flow */
startBtn.addEventListener('click', async ()=>{
  const name = nameInput.value.trim();
  if(!name){
    alert('Naam likhna zaroori hai!');
    nameInput.focus();
    return;
  }

  // disable start to avoid double clicks
  startBtn.disabled = true;
  startBtn.style.opacity = '0.6';
  startBtn.style.cursor = 'default';

  // set greeting
  greetText.textContent = `Hello ðŸ‘‹ ${name}`;

  // play audio and video - user gesture allows play in mobile browsers
  try{
    // start background audio
    await bgAudio.play();
  }catch(e){
    // ignore play failures
    console.warn('bgAudio.play() failed', e);
  }
  try{
    // show & play twinkle video
    twinkleVideo.style.display = 'block';
    // ensure playsinline on mobile
    twinkleVideo.playsInline = true;
    await twinkleVideo.play();
  }catch(e){
    console.warn('twinkleVideo.play() failed', e);
  }

  // show screen2 immediately
  showScreen(1);

  // after 3s -> show screen3 (13s)
  setTimeout(()=>{
    showScreen(2);

    // after SCREEN3_DURATION (13s) -> start slideshow screen
    setTimeout(async ()=>{
      showScreen(3);
      // start slideshow and wait until finished
      await startSlideshow();
      // after slideshow -> show final screen
      showScreen(4);
    }, SCREEN3_DURATION);

  }, SCREEN2_DURATION);
});

/* Accessibility: Enter key starts when focused on input */
nameInput.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter') startBtn.click();
});
</script>
</body>
</html>